# Function Expression

#### https://learn.javascript.ru/function-expressions

### Function Expression

    let sayHi = function() {
    alert( "Привет" );
    };

В JavaScript функции – это значения, поэтому мы и обращаемся с ними, как со значениями. Код выше выведет строковое
представление функции, которое является её исходным кодом.

### Функции-«колбэки»

Рассмотрим ещё примеры функциональных выражений и передачи функции как значения.

Давайте напишем функцию ask(question, yes, no) с тремя параметрами:

    question

Текст вопроса

    yes

Функция, которая будет вызываться, если ответ будет «Yes»

    no

Функция, которая будет вызываться, если ответ будет «No»
Наша функция должна задать вопрос question и, в зависимости от того, как ответит пользователь, вызвать yes() или no():

    function ask(question, yes, no) {
    if (confirm(question)) yes()
    else no();
    }
    
    function showOk() {
    alert( "Вы согласны." );
    }
    
    function showCancel() {
    alert( "Вы отменили выполнение." );
    }
    
    // использование: функции showOk, showCancel передаются в качестве аргументов ask
    ask("Вы согласны?", showOk, showCancel);

**Аргументы функции `ask` ещё называют функциями-колбэками или просто колбэками.**

Ключевая идея в том, что мы передаём функцию и ожидаем, что она вызовется обратно (от англ. «call back» – обратный
вызов) когда-нибудь позже, если это будет необходимо. В нашем случае, `showOk` становится колбэком для ответа «yes»,
а `showCancel` – для ответа «no».

Мы можем переписать этот пример значительно короче, используя Function Expression:

    function ask(question, yes, no) {
    if (confirm(question)) yes()
    else no();
    }
    
    ask(
    "Вы согласны?",
    function() { alert("Вы согласились."); },
    function() { alert("Вы отменили выполнение."); }
    );

Здесь функции объявляются прямо внутри вызова `ask(...)`. У них нет имён, поэтому они называются **анонимными**. Такие
функции недоступны снаружи `ask` (потому что они не присвоены переменным), но это как раз то, что нам нужно.

### Function Expression в сравнении с Function Declaration

- Function Declaration: функция объявляется отдельной конструкцией «function…» в основном потоке кода.
- Function Expression: функция, созданная внутри другого выражения или синтаксической конструкции. В данном случае
  функция создаётся в правой части «выражения присваивания» =:

**Function Expression** создаётся, когда выполнение доходит до него, и затем уже может использоваться.

**Function Declaration** можно использовать во всем скрипте (или блоке кода, если функция объявлена в блоке).

**В строгом режиме, когда Function Declaration находится в блоке {...}, функция доступна везде внутри блока. Но не
снаружи него.**

### Когда использовать Function Declaration, а когда Function Expression?

Как правило, если нам понадобилась функция, в первую очередь нужно рассматривать синтаксис Function Declaration, который
мы использовали до этого. Он даёт нам больше свободы в том, как мы можем организовывать код. Функции, объявленные таким
образом, можно вызывать до их объявления.

Также функции вида `function f(…) {…}` чуть более заметны в коде, чем `let f = function(…) {…}`. Function Declaration
легче «ловятся глазами».

…Но если Function Declaration нам не подходит по какой-то причине (мы рассмотрели это в примере выше), то можно
использовать объявление при помощи Function Expression.


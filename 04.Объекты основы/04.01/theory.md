# Объекты

#### https://learn.javascript.ru/object

    let user = new Object(); // синтаксис "конструктор объекта"
    let user = {};  // синтаксис "литерал объекта"

### Литералы и свойства

При использовании литерального синтаксиса {...} мы сразу можем поместить в объект несколько свойств в виде пар «ключ:
значение»:

    let user = {     // объект
    name: "John",  // под ключом "name" хранится значение "John"
    age: 30        // под ключом "age" хранится значение 30
    };

Для удаления свойства мы можем использовать оператор `delete`:

    delete user.age;

Последнее свойство объекта может заканчиваться запятой:

    let user = {
    name: "John",
    age: 30,
    }

Это называется «висячая запятая». Такой подход упрощает добавление, удаление и перемещение свойств, так как все строки
объекта становятся одинаковыми.

**Объект, объявленный как константа, может быть изменён**

Для свойств, имена которых состоят из нескольких слов, доступ к значению «через точку» не работает:

    // это вызовет синтаксическую ошибку
    user.likes birds = true

    let user = {};
    
    // присваивание значения свойству
    user["likes birds"] = true;
    
    // получение значения свойства
    alert(user["likes birds"]); // true
    
    // удаление свойства
    delete user["likes birds"];

### Вычисляемые свойства

    let fruit = prompt("Какой фрукт купить?", "apple");
    
    let bag = {
        [fruit]: 5, // имя свойства будет взято из переменной fruit
    };
    
    alert( bag.apple ); // 5, если fruit="apple"

### Свойство из переменной

    function makeUser(name, age) {
    return {
        name: name,
        age: age
        // ...другие свойства
        };
    }
    
    let user = makeUser("John", 30);
    alert(user.name); // John

Вместо name:name мы можем написать просто name:

    function makeUser(name, age) {
        return {
        name, // то же самое, что и name: name
        age   // то же самое, что и age: age
        // ...
        };
    }

### Ограничения на имена свойств

Как мы уже знаем, имя переменной не может совпадать с зарезервированными словами, такими как «for», «let», «return» и
т.д.

Но для свойств объекта такого ограничения нет:

### Проверка существования свойства, оператор «in»

При обращении к свойству, которого нет, возвращается undefined. Это позволяет просто проверить существование свойства:

    let user = {};
    
    alert( user.noSuchProperty === undefined ); // true означает "свойства нет"

Также существует специальный оператор "in" для проверки существования свойства в объекте.

Синтаксис оператора:

    "key" in object

Для чего вообще нужен оператор `in`? Разве недостаточно сравнения с `undefined`?

В большинстве случаев прекрасно сработает сравнение с `undefined`. Но есть особый случай, когда оно не подходит, и нужно
использовать "in".

Это когда свойство существует, но содержит значение `undefined`:

### Цикл «for…in»

    for (key in object) {
    // тело цикла выполняется для каждого свойства объекта
    }

### Упорядочение свойств объекта

Короткий ответ: свойства упорядочены особым образом: свойства с целочисленными ключами сортируются по возрастанию,
остальные располагаются в порядке создания. Разберёмся подробнее.

В качестве примера рассмотрим объект с телефонными кодами:

    let codes = {
        "49": "Германия",
        "41": "Швейцария",
        "44": "Великобритания",
        // ..,
        "1": "США"
    };
    
    for (let code in codes) {
        alert(code); // 1, 41, 44, 49
    }

**Целочисленные свойства? Это что?**
Термин «целочисленное свойство» означает строку, которая может быть преобразована в целое число и обратно без изменений.

То есть, "49" – это целочисленное имя свойства, потому что если его преобразовать в целое число, а затем обратно в
строку, то оно не изменится. А вот свойства "+49" или "1.2" таковыми не являются:
…С другой стороны, если ключи не целочисленные, то они перебираются в порядке создания, например:

### Итого

Объекты – это ассоциативные массивы с рядом дополнительных возможностей.

Они хранят свойства (пары ключ-значение), где:

- Ключи свойств должны быть строками или символами (обычно строками).
- Значения могут быть любого типа.

Чтобы получить доступ к свойству, мы можем использовать:

- Запись через точку: `obj.property`.
- Квадратные скобки `obj["property"]`. Квадратные скобки позволяют взять ключ из переменной, например, `obj[varWithKey]`
  .

Дополнительные операторы:

- Удаление свойства: `delete obj.prop`.
- Проверка существования свойства: `"key" in obj`.
- Перебор свойств объекта: цикл for `for (let key in obj)`.

То, что мы изучали в этой главе, называется «простым объектом» («plain object») или просто `Object`.

В JavaScript есть много других типов объектов:

- `Array` для хранения упорядоченных коллекций данных,
- `Date` для хранения информации о дате и времени,
- `Error` для хранения информации об ошибке.
- … и так далее.

У них есть свои особенности, которые мы изучим позже. Иногда люди говорят что-то вроде «тип данных Array» или «тип
данных Date», но формально они не являются отдельными типами, а относятся к типу данных `Object`. Они лишь расширяют его
различными способами.